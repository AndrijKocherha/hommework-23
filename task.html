<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="css/nullstyle.css" />
		<link rel="stylesheet" href="css/style.css" />
		<title>task0</title>
	</head>
	<body>
		<main class="page">
			<div class="page__container">
				<div class="task">
					<div class="task__title">Задача 1. Дано масив рядків. Вивести ті, у яких є цифри (використати метод test та регулярні вирази).</div>
					<div class="task__result task__result_1"></div>
				</div>
				<div class="task">
					<div class="task__title"></div>
					<div class="task__result task__result_2"></div>
				</div>
				<input class="input1" placeholder="Введіть імя та прізвище" type="text" />
				<input class="input2" placeholder="Введіть дату" type="text" />
				<input class="input3" placeholder="Введіть день від 0 до 6 " type="text" />
			</div>
		</main>
		<script>
			// Задача 1. Дано масив рядків. Вивести ті, у яких є цифри (використати метод test та регулярні вирази).
			const arrayWithStrings = ["Hello Andrew", "number 334", "b3 t", "kjnvІЕd", "ewfd", "9ds3ff", "wdbd", "mhwdb1d Ncл"]
			function getStringsWithSettings(array, сondition, secondCond) {
				let newArr = []
				for (const str of array) {
					let resOfTest = сondition.test(str)
					let resOne = resOfTest && secondCond
					let resTwo = !resOfTest && !secondCond
					if (resOne || resTwo) {
						//container.innerText += str + "\n"
						newArr.push(str)
					}
				}
				return newArr
			}
			let stringsWithNumbers = getStringsWithSettings(arrayWithStrings, /\d/, true)
			console.log("задача 1 ")
			console.log(stringsWithNumbers)
			//function setStringsWithNumbers(array, сondition) {
			//		for (const str of array) {
			//			if (сondition.test(str)) container.innerText += str + "\n"
			//		}
			//}
			//setStringsWithNumbers(arrayWithStrings, /\d/, )
			//*************************************************************************************************
			//Задача 2. Дано масив рядків. Вивести ті, у яких немає цифр.
			//function setStringsWithNumbers(array, сondition) {
			//		for (const str of array) {
			//			if (!сondition.test(str)) container.innerText += str + "\n"
			//		}
			//}
			//setStringsWithNumbers(arrayWithStrings, /\d/, )
			let stringsWithoutNumbers = getStringsWithSettings(arrayWithStrings, /\d/, false)
			console.log("задача 2 ")
			console.log(stringsWithoutNumbers)
			//*************************************************************************************************
			//Задача 3. Дано масив рядків. Вивести ті, у яких є голосні літери.
			//function getStringsWithVowels(array, сondition) {
			//	let newArr = []
			//	for (const str of array) {
			//		if (сondition.test(str)) newArr.push(str)
			//	}
			//	return newArr
			//}
			//let stringsWithVowels = getStringsWithVowels(arrayWithStrings, /[aeiouіеиюяїо]/i)
			let stringsWithVowels = getStringsWithSettings(arrayWithStrings, /[aeiouіеиюяїо]/i, true)
			console.log("задача 3")
			console.log(stringsWithVowels)
			//*************************************************************************************************
			//Задача 4. Дано масив рядків. Вивести ті, у яких немає голосних літер.
			let stringsWithoutVowels = getStringsWithSettings(arrayWithStrings, /[aeiouіеиюяїо]/i, false)
			console.log("задача 4")
			console.log(stringsWithoutVowels)
			//*************************************************************************************************
			//Задача 5. Дано масив рядків. Вивести ті, у яких є або цифра 1 або цифра 3.
			console.log("Задача 5")
			let stringsWithNumber1or3 = arrayWithStrings.reduce((prevArr, str) => {
				if (/1|3/g.test(str)) prevArr.push(str)
				return prevArr
			}, [])
			console.log(stringsWithNumber1or3)
			//*************************************************************************************************
			//Задача 6. Дано рядок тексту, вивести усі числа, які є у тексті.
			const textLine = "{ds}j-23''([]4f.gg kJ;Fh: 98р)!авВ2 , =0   * 32?в м ііі"
			let allNUmbersIntext = textLine.match(/[0-9]/g)
			console.log("Задача 6")
			console.log(allNUmbersIntext)
			//*************************************************************************************************
			//Задача 7. Дано рядок тексту. Знайти усі знаки пунктуації, які були використано.
			//let allPunctuationSymbols = textLine.match(/\W\S[^а-яi]/gi)
			let allPunctuationSymbols = textLine.match(/[^\w\sа-яі]/gi)
			console.log("Задача 7")
			console.log(allPunctuationSymbols)
			//*************************************************************************************************
			//Задача 8. Дано рядок тексту. Вивести усі складові, які розділені розділовими знаками.
			const textLine2 = "djdsf_1 sd_ce-2f3 sskvns_dwdg aawj(c2v) qew efw kowe;ee"
			let textComponents = textLine2.split(/[^\wа-яі]/gi)
			console.log("Задача 8")
			console.log(textComponents)
			//*************************************************************************************************
			//Задача 9. Дано рядок тексту. Перевірити, чи містить він дату у форматі dd.mm.yyyy (dd- день, mm-місяць, yyyy- рік).
			//const textLine3 = "shfsjd 2-день , 5-місяць , 2023-рік"
			const textLine3 = "shfsjd 31.05.2023"

			function hasStringDateOrNo(string) {
				//let cond = /\d{1,2}-день(, |,| | ,| , )\d{1,2}-місяць(, |,| | ,| , )\d{4}-рік/i
				//let cond = /\d{1,2}\.\d{1,2}\.\d{4}/g
				let cond = /\b(0{0,1}\d|[1-2]\d|3[0-1])\.(0{0,1}\d|1[0-2])\.\d{4}\b/g

				if (cond.test(string)) return true
				else return false
			}
			let res = hasStringDateOrNo(textLine3)
			console.log("Задача 9")
			if (res) console.log("є дата")
			else console.log("нема дати")
			//*************************************************************************************************
			//Задача 10. Дано рядок тексту. Підрахувати кількість двоцифрових чисел у рядку.
			const textLine4 = "a23rf5, 323-dfvd992l3"
			function getAmountOfSomeDigitalNumberInString(digitalNumber, string) {
				let exp = new RegExp(`\\d{${digitalNumber}}`, "ig")
				let numbersArr = string.match(exp)
				return numbersArr.length
			}
			let AmountOfSomeDigitalNumberInString = getAmountOfSomeDigitalNumberInString(2, textLine4)
			console.log("Задача 10")
			console.log(AmountOfSomeDigitalNumberInString)
			//*************************************************************************************************
			//Задача 11. Визначити чи може бути рядок тексту номером банківської картки (приклад: «4142-3433-2323-3434»). Знайти усі такі номери.
			const textLine5 = "sjk 2323-5453-2354-2444 , fwe3432-3432-344-3422 dfsm4, 4535-6865-3456-3436"
			function getBankCardsNumbers(string, cond) {
				let numbers = string.match(cond)
				if (numbers === null) return 0
				return numbers
			}
			let bankCardsNumbers = getBankCardsNumbers(textLine5, /\b\d{4}-\d{4}-\d{4}-\d{4}\b/g)
			console.log("Задача 11")
			console.log(bankCardsNumbers)
			//*************************************************************************************************
			//Задача 12. Дано адресу сайту. Визначити, чи є він урядовим (містить домен “gov”)
			const siteAdress = "https://www/kmu.gov.ua"
			// спроби не вдалі
			//const excep = /^https:\/\/\S+\s*/gi
			//const excep = /\b(https:).+?\.(gov)\b/
			//const excep = /\b(?:ttps?:\/\/)?(?:www\.)?[^/\s,]+\b\.gov(\.ua)?\b/g
			const excep = /^(https:)\S+(\.gov)\S+$/i
			function isGovermmentWebsite(adress, excep) {
				let formatedAdress = adress.trim()
				if (excep.test(formatedAdress)) return 1
				else return 0
			}
			let result = isGovermmentWebsite(siteAdress, excep)
			console.log("Задача 12")
			console.log(result)
			//*************************************************************************************************
			//Задача 13. Вибрати усі роки після 2021 року з отриманого повідомлення
			const textLine6 = "2002 233 2023 2030 342 2021 1000 2022 "
			function getYearsAfterSomeYEar(year, message) {
				//let cond = /\d{4}/gi
				//let cond = /[2-9][0-9][2-9][2-9]/g
				let cond = /20[2-9][2-9]|20[3-9]\d|2[1-9]\d\d|[3-9]\d\d\d/g
				let arr = message.match(cond)
				//let arrWIthCorrectDates = arr.reduce((newArr, el) => {
				//	el > year ? newArr.push(el) : newArr
				//	return newArr
				//}, [])
				return arr
			}
			let g = getYearsAfterSomeYEar(2021, textLine6)
			console.log("Задача 13")
			console.log(g)
			//*************************************************************************************************
			//Задача 14. Дано номер телефону. Перевірити, чи є цей телефон телефоном з України (починаєтсья на«+38»)
			console.log("Задача 14")
			let tellNumber = "pas +380536780938"
			if (/\+380\d{9}/g.test(tellNumber)) {
				console.log("З України")
			} else console.log("не з України")
			//*************************************************************************************************
			//Задача 15. Користувач вводить прізвище та ім’я в одному рядку через пробіл. Замінити пробіл надефіс.
			function replaceSymblos(input, sybolThatReplace, sybolToReplace) {
				let str = input.value
				if (/.\D+ .\D+/g.test(str)) {
					str = str.replace(/\s/, "-")
					input.value = str
				}
			}
			let input = document.querySelector(".input1")
			if (input) {
				input.addEventListener("change", () => replaceSymblos(input, " ", "-"))
			}
			console.log("Задача 15")
			console.log("зміна відбувається в інпуті")
			//*************************************************************************************************
			//Задача 16. Користувач вводить дату у форматі «день.місяць.рік». Отримати рядкове представлення дати у форматі «день/місяць/рік»
			console.log("Задача 16")
			let dateInput = document.querySelector(".input2")
			if (dateInput) {
				dateInput.addEventListener("change", () => {
					let dateInputValue = dateInput.value
					dateInputValue = dateInputValue.trimStart()
					console.log(dateInputValue)
					let cnd = /^(0{0,1}\d|[1-2]\d|3[0-1])\.(0{0,1}\d|1[0-2])\.\d{4}$/g
					if (cnd.test(dateInputValue)) {
						console.log("7777777777")
						dateInput.value = dateInputValue.replace(/\./g, "/")
					}
				})
			}
			//*************************************************************************************************
			//Задача 17. Користувач вводить день (номер дня (0-6) або «sun,mon,tue,wed,thu,fri,sat»). Визначити, чи є це день вихідним
			console.log("Задача 17")
			let inputWithDay = document.querySelector(".input3")
			if (inputWithDay) {
				inputWithDay.addEventListener("change", () => {
					let inputWithDayValue = inputWithDay.value
					if (/^(0|1)$/.test(inputWithDayValue)) console.log("вихідний")
					else console.log("не вихідний")
				})
			}
		</script>
	</body>
</html>
